@using TermasApp.IRepository
@model TermasApp.Models.PedidosReparacaoModel
@inject IFuncionarioRepository _funcionarioRepository
@inject IEquipamentoRepository _equipamentoRepository

@{
    string nomeInterno = await _equipamentoRepository.GetNomeEquipamento(Model.IdEquipamento);
    string tecnico = await _funcionarioRepository.GetNomeFuncionario(Model.IdTecnico);
}
@{
    ViewData["Title"] = "Delete";
}

<div class="container">
    <div class="row">
        <div class="col-md-8">
            <h4 class="display-4">Deseja eliminar este pedido?</h4>
        </div>
        <div class="col-md-3">
            <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger mx-1"><i class="fas fa-trash-alt" title="Eliminar"></i></a>
            <a asp-action="Index" asp-route-ativo="true" class="btn btn-light btn-icon-split">
                <span class="icon text-black-50">
                    <i class="fas fa-reply-all"></i>
                </span>
                <span class="text">Voltar</span>
            </a>
        </div>
    </div>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            Tecnico
        </dt>
        <dd class="col-sm-10">
            @tecnico
        </dd>
        <dt class="col-sm-2">
            Equipamento
        </dt>
        <dd class="col-sm-10">
            nomeInterno
        </dd>
        <dt class="col-sm-2">
            Data Pedido
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.DataPedido)
        </dd>
        <dt class="col-sm-2">
            Data Conclusão
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.DataConclusao)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Estado)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Estado)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Avaria)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Avaria)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Valor)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Valor)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Observacoes)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Observacoes)
        </dd>
    </dl>
</div>